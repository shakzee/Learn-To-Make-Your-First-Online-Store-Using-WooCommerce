!function(r){var a=a||{};a.init=function(){a.$document=r(document.body),a.$window=r(window),a.$html=r("html"),a.$body=r("body"),a.$quickViewContainer=r("#quick-view__container"),a.$quickViewInner=r(".quick-view__inner"),a.$cartLink=r("a.site-header__extra-cartlink"),a.$widget=r(".site-header__extra-toggle"),this.QuickView(),this.wishListLoader(),this.wishListTable(),this.matchHeight(),this.heroTypist(),this.homepageSlider(),this.sectionCarousel(),this.events()},a.headerCartOpen=function(){a.$cartLink.addClass("toggled"),a.$widget.toggleClass("show")},a.headerCartClose=function(){a.$cartLink.removeClass("toggled"),a.$widget.removeClass("show")},a.QuickView=function(){var e=r("a.baltic-quick-view"),i=r(".quick-view__content");e.on("click",function(e){e.preventDefault(),a.$body.css({overflow:"hidden"}),a.$quickViewContainer.removeClass("hide").addClass("show").attr("tabindex","-1").focus(),a.$quickViewContainer.append('<div class="quick-view-ajax-loader spinner">'+Balticl10n.loader+"</div>"),r.ajax({url:BalticKitl10n.ajax_url,data:{action:"quick_view_product",product_id:r(this).attr("data-product_id")},dataType:"html",type:"POST",beforeSend:function(){i.html("")},success:function(e){r(".quick-view-ajax-loader").fadeOut("slow",function(){r(this).remove()}),a.$quickViewInner.addClass("show"),i.html(e);var t=i.find(".variations_form");t.wc_variation_form(),t.trigger("check_variations"),i.find(".woocommerce-product-gallery").each(function(){r(this).wc_product_gallery(),r(this).ajaxComplete(function(){r(this).trigger("woocommerce_gallery_reset_slide_position")})})},error:function(){i.html(BalticKitl10n.error_msg)}})})},a.closeQuickView=function(){a.$quickViewContainer.hasClass("hide")||(a.$quickViewInner.removeClass("show"),a.$quickViewContainer.removeClass("show"),a.$quickViewContainer.toggleClass("hide"),a.$body.css({overflow:"visible"}))},a.wishList=function(){var t=r(".site-header__extra-wishlist > span.total");void 0!==t&&r.ajax({url:BalticKitl10n.ajax_url,data:{action:"wishlist_count"},dataType:"json",success:function(e){0<e.count?(t.removeClass("hide"),t.html(e.count)):t.addClass("hide")}})},a.wishListLoader=function(){r(".add_to_wishlist").on("click",function(){var e=r(this).find(".baltic-wishlist-loader");e.addClass("show"),e.on("added_to_wishlist",function(){r(this).removeClass("show")})})},a.wishListTable=function(){var e=r("#yith-wcwl-form");e.find(".shop_table").addClass("shop_table_responsive"),e.find(".product-name").attr("data-title","Product"),e.find(".product-price").attr("data-title","Price"),e.find(".product-stock-status").attr("data-title","Stock Status")},a.recentlyViewed=function(){var t=r(".baltic-kit-ajax-recent-viewed-products"),e=t.attr("id"),i=r("#"+e+" .baltic-kit__recently-viewed"),a=i.attr("data-count");r.ajax({url:BalticKitl10n.ajax_url,data:{action:"recently_viewed_product",count:a},dataType:"html",type:"POST",beforeSend:function(){i.html(Balticl10n.loader)},success:function(e){e&&(t.css({"margin-bottom":"1.5rem"}),t.find(".widget-title").css({display:"block"})),i.removeClass("loading"),i.html(e)},error:function(){i.html(BalticKitl10n.error_msg)}})},a.matchHeight=function(){var e=r(".featured-posts").find(".entry-inner"),t=r("ul.products").find(".entry-product"),i=r(".baltic-twitter").find(".baltic-twitter__item"),a=r(".product-cats2").find(".product-cats__inner");e.matchHeight(),t.matchHeight(),i.matchHeight(),a.matchHeight()},a.heroTypist=function(){var e;e=document.querySelector("#homepage__hero-rotator"),new Typist(e,{letterInterval:120,textInterval:5e3})},a.homepageSlider=function(){var e=r(".homepage__slider"),t=e.data("fade"),i=e.data("autoplay"),a=e.data("autoplayspeed"),o=e.data("arrows"),n=e.data("dots"),s=e.data("pauseonhover");r(".homepage__slider-container").not(".slick-initialized").slick({infinite:!0,adaptiveHeight:!0,slidesToScroll:1,slidesToShow:1,fade:t,autoplay:i,autoplaySpeed:a,arrows:o,dots:n,pauseOnHover:s,dotsClass:"baltic-slick-dots",prevArrow:Balticl10n.sliderPrevBtn,nextArrow:Balticl10n.sliderNextBtn,responsive:[{breakpoint:788,settings:{fade:!0,slidesToShow:1}}]})},a.sectionCarousel=function(){var e=r(".homepage-section.slider");void 0!==e&&e.each(function(){var e=r(this),t=e.attr("id"),i=e.data("columns");r("#"+t+" .columns, .products").not(".slick-initialized").slick({lazyLoad:"progressive",infinite:!0,adaptiveHeight:!0,slidesToScroll:1,fade:!1,slidesToShow:i,autoplay:!0,autoplaySpeed:5e3,arrows:!1,dots:!0,pauseOnHover:!1,dotsClass:"baltic-slick-dots",responsive:[{breakpoint:788,settings:{fade:!1,slidesToShow:2}}]})})},a.events=function(){a.$body.on("afterChange",function(){a.matchHeight()}),a.$window.on("load",function(){a.recentlyViewed(),a.wishList()}),a.$cartLink.on("click",function(e){e.stopPropagation(),e.preventDefault(),a.headerCartOpen()}),a.$html.on("click",function(e){(a.$cartLink.hasClass("toggled")||a.$widget.hasClass("show"))&&(r(e.target).is(".site-header__extra-toggle, .site-header__extra-toggle *")||a.headerCartClose())}),r(".quick-view__close").on("click",function(e){e.preventDefault(),a.closeQuickView()}),a.$quickViewContainer.on("click",function(e){a.$quickViewContainer.hasClass("show")&&(r(e.target).is(".quick-view__inner, .quick-view__inner *")||a.closeQuickView())}),a.$document.keyup(function(e){27===e.keyCode&&(a.closeQuickView(),a.headerCartClose())}),a.$document.on("added_to_wishlist removed_from_wishlist added_to_cart",function(){a.wishList(),a.wishListTable()})},r(function(){a.init(),"undefined"!=typeof wp&&wp.customize&&wp.customize.selectiveRefresh&&wp.customize.selectiveRefresh.bind("partial-content-rendered",function(e){0<=r.inArray(e.partial.id,["hero_prefix","hero_rotator","hero_suffix","hero_description","hero_btn1_text","hero_btn1_link","hero_btn1_style","hero_btn2_text","hero_btn2_link","hero_btn2_style","hero_btn_rounded","hero_layout","homepage_order"])&&a.heroTypist(),"homepage_order"===e.partial.id&&(a.heroTypist(),a.homepageSlider(),a.sectionCarousel(),a.matchHeight()),e.container&&(a.homepageSlider(),a.sectionCarousel(),a.matchHeight())})})}(jQuery);